//- ============================================================
//- MODAL CONTROLS
//- ============================================================

.item-detail-modal-controls
  display: none
  
  .icon-angle-left,
  .icon-angle-right
    position: absolute
    color: white
    font-size: 16px
    top: 50%
    transform: translate3d(0, -50%, 0)
    z-index: 350

  .icon-angle-left
    left: 10px

  .icon-angle-right
    right: 10px

  &.show
    display: block

#item-detail-modal
  position: absolute
  top: 50%
  left: 50%
  width: calc(100% - 40px)
  height: calc(100% - 40px)
  background: white
  @extend .box-shadow
  z-index: 380
  opacity: 0
  transform: translate3d(-50%, calc(-50% + 10px), 0)
  pointer-events: none
  overflow: hidden

  &.show
    opacity: 1
    transform: translate3d(-50%, -50%, 0)
    pointer-events: all

  
  //- ============================================================
  //- PANELS
  //- ============================================================

  $modal-tool-panel-width: 40px
  $modal-comments-panel-width: 260px
  $modal-bottom-panel-content-height: 150px


  //- ============================================================
  //- REPORT GROUP TABS
  //- ============================================================
  
  .modal-report-tabs
    position: absolute
    top: 0
    left: 0
    width: calc(100% - #{$modal-tool-panel-width})
    height: $modal-tool-panel-width

    .tab-nav-tab
      padding-top: 13px
      padding-bottom: 13px


  //- ============================================================
  //- INFO BAR
  //- ============================================================

  .modal-info-bar
    position: absolute
    top: 0
    left: 0
    width: calc(100% - #{$modal-tool-panel-width})
    height: $modal-tool-panel-width
    // color: $md-grey

    span
      @extend .wgsn-font
      @extend .inline-block
      margin: 13px 0 0 0

    .btn-modal-nav
      width: $modal-tool-panel-width
      height: $modal-tool-panel-width
  
  //- ============================================================
  //- IMAGE PANEL
  //- ============================================================

  .modal-image-panel
    position: absolute
    top: $modal-tool-panel-width
    bottom: $modal-tool-panel-width
    left: 0
    right: $modal-tool-panel-width

    .img
      width: 100%
      height: 100%
      background: no-repeat center / contain
      @extend .no-transition

    .file-heart,
    .btn-close-fullscreen
      position: absolute
      top: 15px
      right: 15px
      color: white
      font-size: 16px
      @extend .no-transition

    .icon-heart
      opacity: 1
      color: $label-red !important

    .btn-close-fullscreen
      font-size: 20px
      opacity: 0
      pointer-events: none

    // MODAL PAGE CONTROLS (for reports) & ZOOM CONTROLS (for images)
    .modal-page-controls,
    .modal-zoom-controls
      position: absolute
      opacity: 0
      transform: translate3d(0, 0, 0)

    .modal-page-controls
      top: calc(50% - 20px)
      width: 100%
      left: 0

    .modal-zoom-controls
      bottom: 10px
      left: calc(50% - 41px)

      .modal-zoom-in,
      .modal-zoom-out
        margin: 0 1px

    .modal-page-left,
    .modal-page-right,
    .modal-zoom-in,
    .modal-zoom-out
      font-size: 16px
      background: rgba(white, 0.8)
      // @extend .border
      width: 40px
      height: 40px
      padding: 11px 12px
      @extend .inline-block

      &:hover
        background: rgba(white, 1)

    .modal-report-blocker
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
      background: rgba(white, 0.5)

    &:hover
      .modal-page-controls,
      .modal-zoom-controls
        opacity: 1

  &.show-bottom-panel
    .modal-image-panel
      bottom: $modal-bottom-panel-content-height + $modal-tool-panel-width

  &.show-comments-panel,
  &.show-info-panel,
  &.show-page-list-panel
    .modal-image-panel
      right: $modal-tool-panel-width + $modal-comments-panel-width

  //- ============================================================
  //- BOTTOM PANEL
  //- ============================================================

  .modal-bottom-panel
    position: absolute
    bottom: 0
    left: 0
    width: 100%
    height: $modal-bottom-panel-content-height + $modal-tool-panel-width
    transform: translate3d(0, $modal-bottom-panel-content-height, 0)

    .icon-angle-up
      margin: 12px
      transform: translate3d(0, 0, 0) rotate(0deg)

    .modal-bottom-panel-tabs
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: $modal-tool-panel-width

      .tab-nav-tab
        padding-top: 13px
        padding-bottom: 13px
        border-top: none

    svg
      width: 52px
      height: 12px
      margin: 13px 10px 0 0
      fill: $xdk-grey

    .modal-bottom-panel-content
      position: absolute
      top: $modal-tool-panel-width
      left: 0
      width: 100%
      height: $modal-bottom-panel-content-height

      .modal-hor-scroll-container
        width: 100%
        height: $modal-bottom-panel-content-height
        overflow-x: auto
        overflow-y: hidden
        white-space: nowrap

        img
          height: calc(#{$modal-bottom-panel-content-height} - 20px)

        .block-right-xs.inline-block:nth-child(2) img
          border: 4px solid $yellow

  &.show-bottom-panel
    .modal-bottom-panel
      transform: translate3d(0, 0, 0)

      .icon-angle-up
        transform: translate3d(0, 0, 0) rotate(180deg)
  

  //- ============================================================
  //- TOOL PANEL
  //- ============================================================

  .modal-tool-panel
    position: absolute
    top: 0
    bottom: $modal-tool-panel-width
    right: 0
    width: $modal-tool-panel-width

    .btn-modal-tool
      font-size: 14px
      width: $modal-tool-panel-width
      height: $modal-tool-panel-width
      @extend .flex-center
      @extend .hoverable
      position: relative
      border-color: $lt-grey

      &:after
        content: ""
        width: 1px
        height: calc(#{$modal-tool-panel-width} - 2px)
        background: white
        display: block
        position: absolute
        top: 0
        left: -1px
        opacity: 0
      
      .icon
        color: $dk-grey
      
      &:hover
        .icon
          color: $xdk-grey

      &.btn-modal-page-list,
      &.btn-modal-info,
      &.btn-modal-comments
        &.active
          background: $lt-grey
          
          // .icon
          //   color: white

          // &:after
          //   opacity: 1

          // .icon
          //   color: $xdk-grey

  &.show-bottom-panel
    .modal-tool-panel
      bottom: $modal-bottom-panel-content-height + $modal-tool-panel-width


  //- ============================================================
  //- COMMENTS PANEL, INFO PANEL & REPORT PAGES PANEL
  //- ============================================================

  .modal-comments-panel,
  .modal-info-panel,
  .modal-page-list-panel
    position: absolute
    top: $modal-tool-panel-width
    right: $modal-tool-panel-width
    bottom: $modal-tool-panel-width
    width: $modal-comments-panel-width
    transform: translate3d($modal-comments-panel-width + $modal-tool-panel-width, 0, 0)

    .scroll-container
      height: 100%
      overflow-y: auto

    .comment
      .icon-trash
        opacity: 0
        margin-top: 4px

      &:hover
        .icon-trash
          opacity: 1
  
      &:last-of-type
        border-bottom: none

    .report-page
      img
        width: 83px
        height: 60px
        background: $md-grey

      .text-container
        width: calc(100% - 93px)
        height: 60px
        display: flex
        align-items: center
        justify-content: flex-start

      &:hover
        .text-container span
          color: $fashion

  .modal-comments-panel
    .scroll-container
      height: calc(100% - 101px - 46px)

  .modal-info-panel
    .btn
      margin: -6px 0

  .modal-page-list-panel
    .scroll-container
      height: calc(100% - 46px)

  &.show-bottom-panel
    .modal-comments-panel,
    .modal-info-panel,
    .modal-page-list-panel
      bottom: $modal-bottom-panel-content-height + $modal-tool-panel-width

  &.show-comments-panel
    .modal-comments-panel
      transform: translate3d(0, 0, 0)

    .btn-modal-comments
      @extend .active

  &.show-info-panel
    .modal-info-panel
      transform: translate3d(0, 0, 0)

    .btn-modal-info
      @extend .active

  &.show-page-list-panel
    .modal-page-list-panel
      transform: translate3d(0, 0, 0)

    .btn-modal-page-list
      @extend .active


  //- ============================================================
  //- FULLSCREEN
  //- ============================================================

  &.fullscreen
    width: 100vw
    height: 100vh

    .modal-report-tabs,
    .modal-bottom-panel,
    .modal-tool-panel,
    .modal-comments-panel,
    .modal-page-list-panel
      display: none

    .modal-image-panel
      top: 0 !important
      left: 0 !important
      bottom: 0 !important
      right: 0 !important
      background: $xdk-grey

    .btn-close-fullscreen
      opacity: 1
      pointer-events: all

    .file-heart
      opacity: 0 !important
      pointer-events: none

    .modal-page-left,
    .modal-page-right
      background: rgba(white, 0.1)
      color: rgba(white, 0.3)

  .modal-overlay
    position: absolute
    top: 0
    right: 0
    left: 0
    bottom: 0
    background: rgba(black, 0.7)
    pointer-events: none
    z-index: 390
    opacity: 0

    &.show
      opacity: 1
      pointer-events: all


  //- ============================================================
  //- FILE TYPES
  //- ============================================================

  // IMAGE
  &.file-type-image
    .hidden-file-type-image
      display: none

  &.file-type-report
    .hidden-file-type-report
      display: none

    // .modal-info-bar
    //   top: $modal-tool-panel-width

    // .modal-image-panel,
    // .modal-comments-panel,
    // .modal-info-panel,
    // .modal-page-list-panel
    //   top: $modal-tool-panel-width * 2

  &.file-type-video
    .hidden-file-type-video
      display: none

    .modal-image-panel
      &:after
        content: ""
        position: absolute
        top: 50%
        left: 50%
        background: url('http://www.wgsn.com/assets/common/images/play_button.png') no-repeat center / 100%
        display: block
        width: 80px
        height: 80px
        transform: translate3d(-50%, -50%, 0)
        @extend .hoverable

  &.file-type-colour-card
    .hidden-file-type-colour-card
      display: none


body.product-fashion
  #item-detail-modal .modal-bottom-panel .modal-bottom-panel-content .modal-hor-scroll-container img
    border-color: $fashion !important