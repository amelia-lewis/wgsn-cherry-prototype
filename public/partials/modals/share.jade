mixin share-user(img, initials, name, owner, permission)
  .row.share-user.border-bottom
    .col-xs-8
      .block-xs.overflow-auto
        if img
          .avatar.avatar-sm.pull-left(style="background-image: url('" + img + "')")
        else
          .avatar.avatar-sm.pull-left(data-initials=initials)

        .block-top-xxs.pull-left= name

    if owner
      .col-xs-4.text-right
        .block-sm: p.tight Is owner
    
    if !owner
      .col-xs-4
        .block-ver-sm.block-right-sm.pull-right.hoverable: i.icon.icon-cross
        .block-ver-xxs.pull-right
          select
            option Can edit
            option Can view

//- ==================================================

extends modal

block append modal-vars
  - id = "share"
  - title = "Share"

block modal-content
  .block-bot-md
    .block-sm.border
      .row
        .col-xs-12
          h3 Invite people
      
      .row
        .col-xs-3
          select
            option Can edit
            option Can view
        
        .col-xs-9
          input.search-input(type="text", placeholder="Search for a name")

  .row
    .col-xs-12
      h3 Who has access

  .border.share-user-container
    +share-user("https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/7/005/05b/332/0aa54b4.jpg", "AL", "Amelia Lewis", true, "")
    +share-user("https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAT6AAAAJGZiMmIwM2E3LTMzNzMtNDEzNi1iN2JhLWJlZmYzM2MwNmI2Nw.jpg", "JR", "Julian Ramirez", false, "edit")
    +share-user("https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/1/005/06d/1ea/349ef69.jpg", "AH", "Andrew Harris", false, "view")
    +share-user("https://media.licdn.com/media/AAEAAQAAAAAAAAZVAAAAJDBlZWUwZWE0LTk1OWYtNGMyYi1iYmU5LTA3NDNlNDYxZmYwMQ.jpg", "SC", "Sansan Chen", false, "view")
    +share-user("", "SF", "Sarah Freiser", false, "view")
    +share-user("https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAFZAAAAJDM1YTk4OTc5LTJjZGUtNGJkMS1iMTM4LTBmMjIzYTM3NGYzMQ.jpg", "NA", "Nicky Ashwell", false, "view")
    +share-user("", "HS", "Hema Sivaram", false, "view")
    +share-user("", "AG", "Anna Glassman", false, "view")
    +share-user("", "HZ", "Hans Zhou", false, "view")
    +share-user("", "PT", "Pathik Tanna", false, "view")

    .row.hoverable
      .col-xs-12.text-center
        .block-ver-sm
          p.tight.text-underlined.has-tooltip.tooltip-wrap(data-tooltip="Shares this board with everybody in your team. Theyâ€™ll be added with view permissions by default, but you can change them to edit.")
            | Make folder public
            i.icon.icon-info-circle.block-left-xs